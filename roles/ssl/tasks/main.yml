---
- name: Init facts.
  ansible.builtin.set_fact:
    ssl_facts: "{{ ssl_facts | default({}) }}"

- name: Catch legacy implementations with ssl.domain set. # @todo: this can be removed in a later release
  ansible.builtin.set_fact:
    ssl:
      domains:
        - "{{ ssl.domain }}"
  when: ssl.domain is defined

- name: Generates SSL keys.
  ansible.builtin.include_tasks: "{{ ssl.handling }}.yml"
