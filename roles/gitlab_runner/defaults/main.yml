---
gitlab_runner:
  concurrent_jobs: 10
  check_interval: 0
  session_timeout: 1800
  runners:
    # Default built-in shell executor runner
    - output_limit: 30000
      name: "Default runner"
      url: "https://gitlab.example.com"
      token: "" # see https://docs.gitlab.com/runner/register/
      executor: "shell"
    # Example custom executor runner (ECS Fargate)
    #- output_limit: 30000
    #  name: "Fargate runner"
    #  url: "https://gitlab.example.com"
    #  token: ""
    #  executor: "custom"
    #  builds_dir: "/opt/gitlab-runner/builds"
    #  cache_dir: "/opt/gitlab-runner/cache"
    #  config_exec: "/opt/gitlab-runner/fargate"
    #  config_args: '["--config", "/etc/gitlab-runner/fargate.toml", "custom", "config"]'
    #  prepare_exec: "/opt/gitlab-runner/fargate"
    #  prepare_args: '["--config", "/etc/gitlab-runner/fargate.toml", "custom", "prepare"]'
    #  run_exec: "/opt/gitlab-runner/fargate"
    #  run_args: '["--config", "/etc/gitlab-runner/fargate.toml", "custom", "run"]'
    #  cleanup_exec: "/opt/gitlab-runner/fargate"
    #  cleanup_args: '["--config", "/etc/gitlab-runner/fargate.toml", "custom", "cleanup"]'
  install_fargate: false
  # see https://gitlab.com/gitlab-org/ci-cd/custom-executor-drivers/fargate/-/tree/master/docs
  fargate:
    cluster: "my-cluster" # ECS cluster name
    region: "eu-west-1"
    subnet: "subnet-abcdef123456" # subnet ID
    security_group: "sg-abcdef123456" # SG ID
    task_definition: "my-task:1" # task definition in format name:revision
    public_ip: "false" # if your containers need a public IP assigning
    version: "1.4.0" # Fargate platform version
    metadata_dir: "/opt/gitlab-runner/metadata"
    ssh_user: "root"
    ssh_port: 22
